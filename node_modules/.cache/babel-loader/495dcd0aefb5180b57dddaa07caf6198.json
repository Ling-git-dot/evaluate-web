{"remainingRequest":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\babel-loader\\lib\\index.js!D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\src\\views\\admin\\Student.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\src\\views\\admin\\Student.vue","mtime":1681380014000},{"path":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681383843960},{"path":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1681383838862},{"path":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681383843960},{"path":"D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1681383829733}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCByZXF1ZXN0LCB7IGJhc2UgfSBmcm9tICIuLi8uLi8uLi91dGlscy9odHRwIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyaW5mbyIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHNub0V4aXN0ID0gZnVuY3Rpb24gc25vRXhpc3QocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeWtpuWPtyIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdXJsID0gYmFzZSArICIvdXNlcmluZm8vc25vRXhpc3Q/c25vPSIgKyB2YWx1ZSArICImdXR5cGU9MiI7CiAgICAgICAgcmVxdWVzdC5wb3N0KHVybCwgX3RoaXMuZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlrablj7flt7LlrZjlnKgiKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyczogewogICAgICAgIC8v5YiX6KGo5p+l6K+i5Y+C5pWwCiAgICAgICAgc25vOiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBiaWQ6ICIiLAogICAgICAgIHV0eXBlOiAiMiIKICAgICAgfSwKICAgICAgcGFnZTogewogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIC8vIOW9k+WJjemhtQogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICAvLyDmr4/pobXmmL7npLrmnaHnm67kuKrmlbAKICAgICAgICB0b3RhbENvdW50OiAwIC8vIOaAu+adoeebruaVsAoKICAgICAgfSwKICAgICAgYmppbmZvTGlzdDogIiIsCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/liJfooajliqDovb3nirbmgIEKICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgIC8v5L+d5a2Y5oyJ6ZKu5Yqg6L2954q25oCBCiAgICAgIGRhdGFsaXN0OiBbXSwKICAgICAgLy/ooajmoLzmlbDmja4KICAgICAgZm9ybVZpc2libGU6IGZhbHNlLAogICAgICAvL+ihqOWNleaYr+WQpuWPr+inge+8jOm7mOiupOS4jeWPr+ingQogICAgICBmb3JtRGF0YToge30sCiAgICAgIC8v6KGo5Y2V5pWw5o2uCiAgICAgIHVyZWFkb25seTogZmFsc2UsCiAgICAgIHJ1bGVzOiB7fSwKICAgICAgdXR5cGU6ICIiLAogICAgICBhZGRydWxlczogewogICAgICAgIHNubzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWtpuWPtyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHNub0V4aXN0LAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgdXB3ZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5aeT5ZCNIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGFnZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeW5tOm+hCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB0ZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlLXor50iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgYmlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup54+t57qnIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG1vZGlmeXJ1bGVzOiB7CiAgICAgICAgc25vOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5a2m5Y+3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHVwd2Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWnk+WQjSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBhZ2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlubTpvoQiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgdGVsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl55S16K+dIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJpZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeePree6pyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB1dHlwZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInV0eXBlIik7CiAgICB0aGlzLnV0eXBlID0gdXR5cGU7CiAgICB0aGlzLmdldERhdGFzKCk7CiAgICB0aGlzLmdldEJqaW5mb0xpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICAvL+W8ueWHuuaWsOWinueql+WPowogICAgICB0aGlzLmZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy51cmVhZG9ubHkgPSBmYWxzZTsKICAgICAgdGhpcy5ydWxlcyA9IHRoaXMuYWRkcnVsZXM7CiAgICAgIHRoaXMuZm9ybURhdGEgPSB7fTsKICAgICAgdGhpcy5mb3JtRGF0YS5zZXggPSAi55S3IjsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsKICAgICAgLy/miZPlvIDkv67mlLnnlYzpnaIKICAgICAgdGhpcy5mb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMudXJlYWRvbmx5ID0gdHJ1ZTsKICAgICAgdGhpcy5ydWxlcyA9IHRoaXMubW9kaWZ5cnVsZXM7CiAgICAgIHRoaXMuZm9ybURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuaWQgIT0gbnVsbCkgewogICAgICAgIC8v5aaC5p6c5pyJSUTlsLHkv67mlLnmlbDmja4KICAgICAgICB0aGlzLiRyZWZzWyJmb3JtRGF0YVJlZiJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlICsgIi91c2VyaW5mby91cGRhdGU/aWQ9IiArIF90aGlzMi5mb3JtRGF0YS5pZDsKICAgICAgICAgICAgX3RoaXMyLmJ0bkxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICByZXF1ZXN0LnBvc3QodXJsLCBfdGhpczIuZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMi5idG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBvZmZzZXQ6IDMyMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnc3R1ZGVudCc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmnI3liqHlmajplJnor68iLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBvZmZzZXQ6IDMyMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WmguaenOayoeaciUlE5bCx5paw5aKe5pWw5o2uCiAgICAgICAgdGhpcy4kcmVmc1siZm9ybURhdGFSZWYiXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB2YXIgdXJsID0gYmFzZSArICIvdXNlcmluZm8vYWRkIjsgLy92YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICAgICAgICAgIC8vdXNlciA9IEpTT04ucGFyc2UodXNlcik7CgogICAgICAgICAgICBfdGhpczIuYnRuTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIF90aGlzMi5mb3JtRGF0YS51dHlwZSA9ICIyIjsKCiAgICAgICAgICAgIGlmIChfdGhpczIudXR5cGUgIT0gIueuoeeQhuWRmCIpIHsKICAgICAgICAgICAgICB2YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICAgICAgICAgICAgdXNlciA9IEpTT04ucGFyc2UodXNlcik7CiAgICAgICAgICAgICAgX3RoaXMyLmZvcm1EYXRhLmJpZCA9IHVzZXIuYmlkOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXF1ZXN0LnBvc3QodXJsLCBfdGhpczIuZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIG9mZnNldDogMzIwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdzdHVkZW50JzsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuacjeWKoeWZqOmUmeivryIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIG9mZnNldDogMzIwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOWIoOmZpOivpeiusOW9leWQlz8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgdXJsID0gYmFzZSArICIvdXNlcmluZm8vZGVsP2lkPSIgKyByb3cuaWQ7CiAgICAgICAgcmVxdWVzdC5wb3N0KHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczMubGlzdExvYWRpbmcgPSBmYWxzZTsgLy9OUHJvZ3Jlc3MuZG9uZSgpOwoKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG9mZnNldDogMzIwCiAgICAgICAgICB9KTsKCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdzdHVkZW50JzsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZS5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgdGhpcy5nZXREYXRhcygpOwogICAgfSwKICAgIHF1ZXJ5OiBmdW5jdGlvbiBxdWVyeSgpIHsKICAgICAgLy/mn6Xor6IKICAgICAgdGhpcy5nZXREYXRhcygpOwogICAgfSwKICAgIC8v6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXREYXRhczogZnVuY3Rpb24gZ2V0RGF0YXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy92YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICAgIC8vdXNlciA9IEpTT04ucGFyc2UodXNlcik7CiAgICAgIHZhciBwYXJhID0gewogICAgICAgIHNubzogdGhpcy5maWx0ZXJzLnNubywKICAgICAgICBuYW1lOiB0aGlzLmZpbHRlcnMubmFtZSwKICAgICAgICBiaWQ6IHRoaXMuZmlsdGVycy5iaWQsCiAgICAgICAgdXR5cGU6IHRoaXMuZmlsdGVycy51dHlwZQogICAgICB9OwoKICAgICAgaWYgKHRoaXMudXR5cGUgIT0gIueuoeeQhuWRmCIpIHsKICAgICAgICB2YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICAgICAgdXNlciA9IEpTT04ucGFyc2UodXNlcik7CiAgICAgICAgcGFyYSA9IHsKICAgICAgICAgIHNubzogdGhpcy5maWx0ZXJzLnNubywKICAgICAgICAgIG5hbWU6IHRoaXMuZmlsdGVycy5uYW1lLAogICAgICAgICAgYmlkOiB1c2VyLmJpZCwKICAgICAgICAgIHV0eXBlOiB0aGlzLmZpbHRlcnMudXR5cGUKICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHVybCA9IGJhc2UgKyAiL3VzZXJpbmZvL2xpc3Q/Y3VycmVudFBhZ2U9IiArIHRoaXMucGFnZS5jdXJyZW50UGFnZTsKICAgICAgY29uc29sZS5sb2codXJsKTsKICAgICAgcmVxdWVzdC5wb3N0KHVybCwgcGFyYSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5yZXNkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzNC5pc1BhZ2UgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuaXNQYWdlID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBfdGhpczQucGFnZS50b3RhbENvdW50ID0gcmVzLmNvdW50OwogICAgICAgIF90aGlzNC5kYXRhbGlzdCA9IHJlcy5yZXNkYXRhOwogICAgICAgIF90aGlzNC5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRCamluZm9MaXN0OiBmdW5jdGlvbiBnZXRCamluZm9MaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBwYXJhID0ge307CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgdXJsID0gYmFzZSArICIvdXNlcmluZm8vbGlzdEJqaW5mb0FsbCI7CiAgICAgIHJlcXVlc3QucG9zdCh1cmwsIHBhcmEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS5iamluZm9MaXN0ID0gcmVzLnJlc2RhdGE7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\VScode\\decument\\BiYeSheJi\\jspjxt\\jspjxt-web\\src\\views\\admin\\Student.vue"],"names":[],"mappings":";AAwMA,OAAO,OAAP,IAAkB,IAAlB,QAA8B,qBAA9B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAGb,EAAA,IAHa,kBAGN;AAAA;;AACL,QAAI,QAAO,GAAI,SAAX,QAAW,CAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAA2B;AACxC,UAAI,KAAI,KAAM,EAAd,EAAkB;AAChB,QAAA,QAAQ,CAAC,IAAI,KAAJ,CAAU,OAAV,CAAD,CAAR;AACF,OAFA,MAEO;AACL,YAAI,GAAE,GAAI,IAAG,GAAI,yBAAP,GAAmC,KAAnC,GAA2C,UAArD;AACA,QAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,KAAI,CAAC,QAAvB,EAAiC,IAAjC,CAAsC,UAAC,GAAD,EAAS;AAC7C,cAAI,GAAG,CAAC,IAAJ,IAAY,GAAhB,EAAqB;AACnB,YAAA,QAAQ;AACV,WAFA,MAEO;AACL,YAAA,QAAQ,CAAC,IAAI,KAAJ,CAAU,OAAV,CAAD,CAAR;AACF;AACD,SAND;AAOF;AACD,KAbD;;AAcA,WAAO;AACL,MAAA,OAAO,EAAE;AACP;AACA,QAAA,GAAG,EAAE,EAFE;AAIP,QAAA,IAAI,EAAE,EAJC;AAKP,QAAA,GAAG,EAAE,EALE;AAMP,QAAA,KAAK,EAAE;AANA,OADJ;AASL,MAAA,IAAI,EAAE;AACJ,QAAA,WAAW,EAAE,CADT;AACY;AAChB,QAAA,QAAQ,EAAE,EAFN;AAEU;AACd,QAAA,UAAU,EAAE,CAHR,CAGW;;AAHX,OATD;AAcL,MAAA,UAAU,EAAE,EAdP;AAeL,MAAA,WAAW,EAAE,KAfR;AAee;AACpB,MAAA,UAAU,EAAE,KAhBP;AAgBc;AACnB,MAAA,QAAQ,EAAE,EAjBL;AAiBS;AACd,MAAA,WAAW,EAAE,KAlBR;AAkBe;AACpB,MAAA,QAAQ,EAAE,EAnBL;AAmBS;AACd,MAAA,SAAS,EAAE,KApBN;AAqBL,MAAA,KAAK,EAAE,EArBF;AAsBL,MAAA,KAAK,EAAE,EAtBF;AAuBL,MAAA,QAAQ,EAAE;AACR,QAAA,GAAG,EAAE,CACH;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SADG,EAEH;AAAE,UAAA,SAAS,EAAE,QAAb;AAAuB,UAAA,OAAO,EAAE;AAAhC,SAFG,CADG;AAKR,QAAA,IAAI,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CALE;AAMR,QAAA,IAAI,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CANE;AAOR,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CAPG;AAQR,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CARG;AASR,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD;AATG,OAvBL;AAkCL,MAAA,WAAW,EAAE;AACX,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CADM;AAEX,QAAA,IAAI,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CAFK;AAGX,QAAA,IAAI,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CAHK;AAIX,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CAJM;AAKX,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD,CALM;AAMX,QAAA,GAAG,EAAE,CAAC;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SAAD;AANM;AAlCR,KAAP;AA2CD,GA7DY;AA8Db,EAAA,OA9Da,qBA8DH;AACR,QAAI,KAAI,GAAI,cAAc,CAAC,OAAf,CAAuB,OAAvB,CAAZ;AACA,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,QAAL;AACA,SAAK,aAAL;AACD,GAnEY;AAoEb,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACK;AACV;AACA,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,SAAL,GAAiB,KAAjB;AACA,WAAK,KAAL,GAAa,KAAK,QAAlB;AACA,WAAK,QAAL,GAAgB,EAAhB;AACA,WAAK,QAAL,CAAc,GAAd,GAAoB,GAApB;AAED,KATM;AAUP,IAAA,UAVO,sBAUI,KAVJ,EAUW,GAVX,EAUgB;AACrB;AACA,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,SAAL,GAAiB,IAAjB;AACA,WAAK,KAAL,GAAa,KAAK,WAAlB;AACA,WAAK,QAAL,GAAgB,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,SAAL,CAAe,GAAf,CAAX,CAAhB;AACD,KAhBM;AAiBP,IAAA,IAjBO,kBAiBA;AAAA;;AACL,UAAI,KAAK,QAAL,CAAc,EAAd,IAAoB,IAAxB,EAA8B;AAC5B;AACA,aAAK,KAAL,CAAW,aAAX,EAA0B,QAA1B,CAAmC,UAAC,KAAD,EAAW;AAC5C,cAAI,KAAJ,EAAW;AACT,gBAAI,GAAE,GAAI,IAAG,GAAI,sBAAP,GAAgC,MAAI,CAAC,QAAL,CAAc,EAAxD;AACA,YAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;AACA,YAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,MAAI,CAAC,QAAvB,EAAiC,IAAjC,CAAsC,UAAC,GAAD,EAAS;AAC7C,kBAAI,GAAG,CAAC,IAAJ,IAAY,GAAhB,EAAqB;AACnB,gBAAA,MAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,gBAAA,MAAI,CAAC,WAAL,GAAmB,KAAnB;;AACA,gBAAA,MAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,OAAO,EAAE,MADG;AAEZ,kBAAA,IAAI,EAAE,SAFM;AAGZ,kBAAA,MAAM,EAAE;AAHI,iBAAd;;AAKD,gBAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,SAAvB;AACD,eATA,MASO;AACL,gBAAA,MAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,OAAO,EAAE,OADG;AAEZ,kBAAA,IAAI,EAAE,OAFM;AAGZ,kBAAA,MAAM,EAAE;AAHI,iBAAd;AAKF;AACD,aAjBD;AAkBF;AACD,SAvBD;AAwBF,OA1BA,MA0BO;AACL;AACA,aAAK,KAAL,CAAW,aAAX,EAA0B,QAA1B,CAAmC,UAAC,KAAD,EAAW;AAC5C,cAAI,KAAJ,EAAW;AACT,gBAAI,GAAE,GAAI,IAAG,GAAI,eAAjB,CADS,CAET;AACA;;AACA,YAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;AACA,YAAA,MAAI,CAAC,QAAL,CAAc,KAAd,GAAsB,GAAtB;;AAEA,gBAAI,MAAI,CAAC,KAAL,IAAc,KAAlB,EAAyB;AACvB,kBAAI,IAAG,GAAI,cAAc,CAAC,OAAf,CAAuB,aAAvB,CAAX;AACA,cAAA,IAAG,GAAI,IAAI,CAAC,KAAL,CAAW,IAAX,CAAP;AACA,cAAA,MAAI,CAAC,QAAL,CAAc,GAAd,GAAoB,IAAI,CAAC,GAAzB;AACF;;AAEA,YAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,MAAI,CAAC,QAAvB,EAAiC,IAAjC,CAAsC,UAAC,GAAD,EAAS;AAC7C,cAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,kBAAI,GAAG,CAAC,IAAJ,IAAY,GAAhB,EAAqB;AACnB,gBAAA,MAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,OAAO,EAAE,MADG;AAEZ,kBAAA,IAAI,EAAE,SAFM;AAGZ,kBAAA,MAAM,EAAE;AAHI,iBAAd;;AAKA,gBAAA,MAAI,CAAC,UAAL,GAAkB,KAAlB;AACA,gBAAA,MAAI,CAAC,WAAL,GAAmB,KAAnB;AACC,gBAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,SAAvB;AACH,eATA,MASO;AACL,gBAAA,MAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,OAAO,EAAE,OADG;AAEZ,kBAAA,IAAI,EAAE,OAFM;AAGZ,kBAAA,MAAM,EAAE;AAHI,iBAAd;AAKF;AACD,aAlBD;AAmBF;AACD,SAlCD;AAmCF;AACD,KAlFM;AAmFP,IAAA,YAnFO,wBAmFM,KAnFN,EAmFa,GAnFb,EAmFkB;AAAA;;AACvB,WAAK,QAAL,CAAc,WAAd,EAA2B,IAA3B,EAAiC;AAC/B,QAAA,iBAAiB,EAAE,IADY;AAE/B,QAAA,gBAAgB,EAAE,IAFa;AAG/B,QAAA,IAAI,EAAE;AAHyB,OAAjC,EAKG,IALH,CAKQ,YAAM;AACV,QAAA,MAAI,CAAC,WAAL,GAAmB,IAAnB;AACA,YAAI,GAAE,GAAI,IAAG,GAAI,mBAAP,GAA6B,GAAG,CAAC,EAA3C;AACA,QAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,IAAlB,CAAuB,UAAC,GAAD,EAAS;AAC9B,UAAA,MAAI,CAAC,WAAL,GAAmB,KAAnB,CAD8B,CAE9B;;AACA,UAAA,MAAI,CAAC,QAAL,CAAc;AACZ,YAAA,OAAO,EAAE,MADG;AAEZ,YAAA,IAAI,EAAE,SAFM;AAGZ,YAAA,MAAM,EAAE;AAHI,WAAd;;AAKE,UAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,SAAvB;AACH,SATD;AAUD,OAlBH,EAmBG,KAnBH,CAmBS,YAAM,CAAE,CAnBjB;AAoBD,KAxGM;AAyGP,IAAA,mBAzGO,+BAyGa,GAzGb,EAyGkB;AACvB,WAAK,IAAL,CAAU,WAAV,GAAwB,GAAxB;AACA,WAAK,QAAL;AACD,KA5GM;AA6GP,IAAA,KA7GO,mBA6GC;AACN;AACA,WAAK,QAAL;AACD,KAhHM;AAiHP;AACA,IAAA,QAlHO,sBAkHI;AAAA;;AACT;AACA;AACA,UAAI,IAAG,GAAI;AACT,QAAA,GAAG,EAAE,KAAK,OAAL,CAAa,GADT;AAET,QAAA,IAAI,EAAE,KAAK,OAAL,CAAa,IAFV;AAGT,QAAA,GAAG,EAAE,KAAK,OAAL,CAAa,GAHT;AAIT,QAAA,KAAK,EAAE,KAAK,OAAL,CAAa;AAJX,OAAX;;AAOA,UAAI,KAAK,KAAL,IAAc,KAAlB,EAAyB;AACvB,YAAI,IAAG,GAAI,cAAc,CAAC,OAAf,CAAuB,aAAvB,CAAX;AACA,QAAA,IAAG,GAAI,IAAI,CAAC,KAAL,CAAW,IAAX,CAAP;AACA,QAAA,IAAG,GAAI;AACL,UAAA,GAAG,EAAE,KAAK,OAAL,CAAa,GADb;AAEL,UAAA,IAAI,EAAE,KAAK,OAAL,CAAa,IAFd;AAGL,UAAA,GAAG,EAAE,IAAI,CAAC,GAHL;AAIL,UAAA,KAAK,EAAE,KAAK,OAAL,CAAa;AAJf,SAAP;AAOF;;AAEA,WAAK,WAAL,GAAmB,IAAnB;AACA,UAAI,GAAE,GAAI,IAAG,GAAI,6BAAP,GAAuC,KAAK,IAAL,CAAU,WAA3D;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,MAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,CAA6B,UAAC,GAAD,EAAS;AACpC,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,YAAI,GAAG,CAAC,OAAJ,CAAY,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,UAAA,MAAI,CAAC,MAAL,GAAc,IAAd;AACF,SAFA,MAEO;AACL,UAAA,MAAI,CAAC,MAAL,GAAc,KAAd;AACF;;AACA,QAAA,MAAI,CAAC,IAAL,CAAU,UAAV,GAAuB,GAAG,CAAC,KAA3B;AACA,QAAA,MAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,OAApB;AACA,QAAA,MAAI,CAAC,WAAL,GAAmB,KAAnB;AACD,OAVD;AAWD,KAtJM;AAuJP,IAAA,aAvJO,2BAuJS;AAAA;;AACd,UAAI,IAAG,GAAI,EAAX;AACA,WAAK,WAAL,GAAmB,IAAnB;AACA,UAAI,GAAE,GAAI,IAAG,GAAI,yBAAjB;AACA,MAAA,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,CAA6B,UAAC,GAAD,EAAS;AACpC,QAAA,MAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,OAAtB;AACD,OAFD;AAGD;AA9JM;AApEI,CAAf","sourcesContent":["<template>\r\n  <section style=\"margin: 10px\">\r\n    <!--工具条-->\r\n    <el-col\r\n      :span=\"24\"\r\n      class=\"toolbar\"\r\n      style=\"padding-bottom: 0px; margin-left: 10px\"\r\n    >\r\n      <el-form :inline=\"true\" :model=\"filters\">\r\n        <el-form-item>\r\n          <el-input\r\n            v-model=\"filters.sno\"\r\n            size=\"small\"\r\n            placeholder=\"学号\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-input\r\n            v-model=\"filters.name\"\r\n            size=\"small\"\r\n            placeholder=\"姓名\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"班级\" prop=\"bid\" v-if=\"utype=='管理员'\">\r\n          <el-select\r\n            v-model=\"filters.bid\"\r\n            placeholder=\"请选择\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <el-option label=\"请选择\" value=\"\"> </el-option>\r\n            <el-option\r\n              v-for=\"item in bjinfoList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"query\">查询</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleAdd\"\r\n            >新增</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n    <!--列表-->\r\n    <el-table\r\n      :data=\"datalist\"\r\n      border\r\n      stripe\r\n      v-loading=\"listLoading\"\r\n      highlight-current-row\r\n      max-height=\"600\"\r\n      size=\"small\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column\r\n        prop=\"sno\"\r\n        align=\"center\"\r\n        label=\"学号\"\r\n        min-width=\"20%\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column\r\n        prop=\"name\"\r\n        align=\"center\"\r\n        label=\"姓名\"\r\n        min-width=\"20%\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"sex\"\r\n        align=\"center\"\r\n        label=\"性别\"\r\n        min-width=\"20%\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"age\"\r\n        align=\"center\"\r\n        label=\"年龄\"\r\n        min-width=\"20%\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"tel\"\r\n        align=\"center\"\r\n        label=\"电话\"\r\n        min-width=\"20%\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column prop=\"bid\" align=\"center\" label=\"班级\" min-width=\"20%\">\r\n        <template #default=\"scope\">{{ scope.row.bjinfoVO.name }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" width=\"300\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >编辑</el-button\r\n          >\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"page.currentPage\"\r\n      :page-size=\"page.pageSize\"\r\n      background\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      :total=\"page.totalCount\"\r\n      style=\"float: right; margin: 10px 20px 0 0\"\r\n    >\r\n    </el-pagination>\r\n    <!--表单-->\r\n    <el-dialog\r\n      title=\"学生信息\"\r\n      v-model=\"formVisible\"\r\n      width=\"40%\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <el-form\r\n        :model=\"formData\"\r\n        ref=\"formDataRef\"\r\n        :rules=\"rules\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"学号\" prop=\"sno\">\r\n          <el-input\r\n            v-model=\"formData.sno\"\r\n            :readonly=\"ureadonly\"\r\n            style=\"width: 50%\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"upwd\">\r\n          <el-input\r\n            v-model=\"formData.upwd\"\r\n            type=\"password\"\r\n            style=\"width: 50%\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"formData.name\" style=\"width: 50%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-select\r\n            v-model=\"formData.sex\"\r\n            placeholder=\"请选择\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <el-option label=\"男\" value=\"男\"> </el-option>\r\n            <el-option label=\"女\" value=\"女\"> </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model=\"formData.age\" style=\"width: 50%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"tel\">\r\n          <el-input v-model=\"formData.tel\" style=\"width: 50%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"班级\" prop=\"bid\" v-if=\"utype=='管理员'\">\r\n          <el-select\r\n            v-model=\"formData.bid\"\r\n            placeholder=\"请选择\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <el-option label=\"请选择\" value=\"\"> </el-option>\r\n            <el-option\r\n              v-for=\"item in bjinfoList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"formVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" :loading=\"btnLoading\" @click=\"save\"\r\n            >确 定</el-button\r\n          >\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </section>\r\n</template>\r\n<script>\r\nimport request, { base } from \"../../../utils/http\";\r\nexport default {\r\n  name: \"Userinfo\",\r\n  components: {},\r\n  data() {\r\n    var snoExist = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入学号\"));\r\n      } else {\r\n        let url = base + \"/userinfo/snoExist?sno=\" + value + \"&utype=2\";\r\n        request.post(url, this.formData).then((res) => {\r\n          if (res.code == 200) {\r\n            callback();\r\n          } else {\r\n            callback(new Error(\"学号已存在\"));\r\n          }\r\n        });\r\n      }\r\n    };\r\n    return {\r\n      filters: {\r\n        //列表查询参数\r\n        sno: \"\",\r\n\r\n        name: \"\",\r\n        bid: \"\",\r\n        utype: \"2\",\r\n      },\r\n      page: {\r\n        currentPage: 1, // 当前页\r\n        pageSize: 10, // 每页显示条目个数\r\n        totalCount: 0, // 总条目数\r\n      },\r\n      bjinfoList: \"\",\r\n      listLoading: false, //列表加载状态\r\n      btnLoading: false, //保存按钮加载状态\r\n      datalist: [], //表格数据\r\n      formVisible: false, //表单是否可见，默认不可见\r\n      formData: {}, //表单数据\r\n      ureadonly: false,\r\n      rules: {},\r\n      utype: \"\",\r\n      addrules: {\r\n        sno: [\r\n          { required: true, message: \"请输入学号\", trigger: \"blur\" },\r\n          { validator: snoExist, trigger: \"blur\" },\r\n        ],\r\n        upwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        age: [{ required: true, message: \"请输入年龄\", trigger: \"blur\" }],\r\n        tel: [{ required: true, message: \"请输入电话\", trigger: \"blur\" }],\r\n        bid: [{ required: true, message: \"请选择班级\", trigger: \"blur\" }],\r\n      },\r\n      modifyrules: {\r\n        sno: [{ required: true, message: \"请输入学号\", trigger: \"blur\" }],\r\n        upwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        age: [{ required: true, message: \"请输入年龄\", trigger: \"blur\" }],\r\n        tel: [{ required: true, message: \"请输入电话\", trigger: \"blur\" }],\r\n        bid: [{ required: true, message: \"请选择班级\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    let utype = sessionStorage.getItem(\"utype\");\r\n    this.utype = utype;\r\n    this.getDatas();\r\n    this.getBjinfoList();\r\n  },\r\n  methods: {\r\n    handleAdd() {\r\n      //弹出新增窗口\r\n      this.formVisible = true;\r\n      this.ureadonly = false;\r\n      this.rules = this.addrules;\r\n      this.formData = {};\r\n      this.formData.sex = \"男\";\r\n      \r\n    },\r\n    handleEdit(index, row) {\r\n      //打开修改界面\r\n      this.formVisible = true;\r\n      this.ureadonly = true;\r\n      this.rules = this.modifyrules;\r\n      this.formData = JSON.parse(JSON.stringify(row));\r\n    },\r\n    save() {\r\n      if (this.formData.id != null) {\r\n        //如果有ID就修改数据\r\n        this.$refs[\"formDataRef\"].validate((valid) => {\r\n          if (valid) {\r\n            let url = base + \"/userinfo/update?id=\" + this.formData.id;\r\n            this.btnLoading = true;\r\n            request.post(url, this.formData).then((res) => {\r\n              if (res.code == 200) {\r\n                this.btnLoading = false;\r\n                this.formVisible = false;\r\n                this.$message({\r\n                  message: \"操作成功\",\r\n                  type: \"success\",\r\n                  offset: 320,\r\n                });\r\n               window.location.href = 'student';\r\n              } else {\r\n                this.$message({\r\n                  message: \"服务器错误\",\r\n                  type: \"error\",\r\n                  offset: 320,\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        //如果没有ID就新增数据\r\n        this.$refs[\"formDataRef\"].validate((valid) => {\r\n          if (valid) {\r\n            let url = base + \"/userinfo/add\";\r\n            //var user = sessionStorage.getItem(\"currentUser\");\r\n            //user = JSON.parse(user);\r\n            this.btnLoading = true;\r\n            this.formData.utype = \"2\";\r\n\r\n            if (this.utype != \"管理员\") {\r\n              var user = sessionStorage.getItem(\"currentUser\");\r\n              user = JSON.parse(user);\r\n              this.formData.bid = user.bid;\r\n            }\r\n\r\n            request.post(url, this.formData).then((res) => {\r\n              console.log(res);\r\n              if (res.code == 200) {\r\n                this.$message({\r\n                  message: \"操作成功\",\r\n                  type: \"success\",\r\n                  offset: 320,\r\n                });\r\n                this.btnLoading = false;\r\n                this.formVisible = false;\r\n                 window.location.href = 'student';\r\n              } else {\r\n                this.$message({\r\n                  message: \"服务器错误\",\r\n                  type: \"error\",\r\n                  offset: 320,\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleDelete(index, row) {\r\n      this.$confirm(\"确认删除该记录吗?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.listLoading = true;\r\n          let url = base + \"/userinfo/del?id=\" + row.id;\r\n          request.post(url).then((res) => {\r\n            this.listLoading = false;\r\n            //NProgress.done();\r\n            this.$message({\r\n              message: \"删除成功\",\r\n              type: \"success\",\r\n              offset: 320,\r\n            });\r\n              window.location.href = 'student';\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page.currentPage = val;\r\n      this.getDatas();\r\n    },\r\n    query() {\r\n      //查询\r\n      this.getDatas();\r\n    },\r\n    //获取列表数据\r\n    getDatas() {\r\n      //var user = sessionStorage.getItem(\"currentUser\");\r\n      //user = JSON.parse(user);\r\n      let para = {\r\n        sno: this.filters.sno,\r\n        name: this.filters.name,\r\n        bid: this.filters.bid,\r\n        utype: this.filters.utype,\r\n      };\r\n    \r\n      if (this.utype != \"管理员\") {\r\n        var user = sessionStorage.getItem(\"currentUser\");\r\n        user = JSON.parse(user);\r\n        para = {\r\n          sno: this.filters.sno,\r\n          name: this.filters.name,\r\n          bid: user.bid,\r\n          utype: this.filters.utype,\r\n        };\r\n       \r\n      }\r\n\r\n      this.listLoading = true;\r\n      let url = base + \"/userinfo/list?currentPage=\" + this.page.currentPage;\r\n      console.log(url);\r\n      request.post(url, para).then((res) => {\r\n        console.log(res);\r\n        if (res.resdata.length > 0) {\r\n          this.isPage = true;\r\n        } else {\r\n          this.isPage = false;\r\n        }\r\n        this.page.totalCount = res.count;\r\n        this.datalist = res.resdata;\r\n        this.listLoading = false;\r\n      });\r\n    },\r\n    getBjinfoList() {\r\n      let para = {};\r\n      this.listLoading = true;\r\n      let url = base + \"/userinfo/listBjinfoAll\";\r\n      request.post(url, para).then((res) => {\r\n        this.bjinfoList = res.resdata;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}
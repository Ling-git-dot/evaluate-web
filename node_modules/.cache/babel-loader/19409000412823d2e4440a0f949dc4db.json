{"remainingRequest":"D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\babel-loader\\lib\\index.js!D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\JAVAEE\\evaluate\\evaluate-web\\src\\views\\admin\\UpdateUinfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\JAVAEE\\evaluate\\evaluate-web\\src\\views\\admin\\UpdateUinfo.vue","mtime":1681380014000},{"path":"D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681383843960},{"path":"D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1681383838862},{"path":"D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681383843960},{"path":"D:\\JAVAEE\\evaluate\\evaluate-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1681383829733}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmlzLWludGVnZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgcmVxdWVzdCwgeyBiYXNlIH0gZnJvbSAiLi4vLi4vLi4vdXRpbHMvaHR0cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXBkYXRlVWluZm8iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgY2hlY2tQaG9uZSA9IGZ1bmN0aW9uIGNoZWNrUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBwaG9uZVJlZyA9IC9eMVszNDU3OF1cZHs5fSQvOwoKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuiBlOezu+eUteivneS4jeiDveS4uuepuiIpKTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gTnVtYmVyLmlzSW50ZWdlcuaYr2VzNumqjOivgeaVsOWtl+aYr+WQpuS4uuaVtOaVsOeahOaWueazlSzlrp7pmYXovpPlhaXnmoTmlbDlrZfmgLvmmK/or4bliKvmiJDlrZfnrKbkuLIKICAgICAgICAvLyDmiYDku6XlnKjliY3pnaLliqDkuobkuIDkuKor5a6e546w6ZqQ5byP6L2s5o2iCiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKCt2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5pWw5a2X5YC8IikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAocGhvbmVSZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6IGU57O755S16K+d5qC85byP5LiN5q2j56GuIikpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgMTAwKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgIC8v5L+d5a2Y5oyJ6ZKu5Yqg6L2954q25oCBCiAgICAgIGZvcm1EYXRhOiB7fSwKICAgICAgaHl6dGluZm9MaXN0OiAiIiwKICAgICAgc3FyeHpMaXN0OiAiIiwKICAgICAgcnVsZXM6IHsKICAgICAgICBzbm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlt6Xlj7ciLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgdXB3ZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5aeT5ZCNIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGFnZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeW5tOm+hCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB0ZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlLXor50iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICB0aGlzLmZvcm1EYXRhID0gSlNPTi5wYXJzZSh1c2VyKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyJmb3JtRGF0YVJlZiJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIHVybCA9IGJhc2UgKyAiL3VzZXJpbmZvL3VwZGF0ZT9pZD0iICsgX3RoaXMuZm9ybURhdGEuaWQ7CiAgICAgICAgICBfdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHJlcXVlc3QucG9zdCh1cmwsIF90aGlzLmZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpcy5mb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5L+u5pS55oiQ5Yqf77yM6K+36YeN5paw55m75b2VIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIG9mZnNldDogMzIwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXR5cGUiKTsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvbG9naW4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmnI3liqHlmajplJnor68iLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIG9mZnNldDogMzIwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:\\JAVAEE\\evaluate\\evaluate-web\\src\\views\\admin\\UpdateUinfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-form\r\n    ref=\"formDataRef\"\r\n    :rules=\"rules\"\r\n    :model=\"formData\"\r\n    label-width=\"120px\"\r\n    style=\"margin-top: 20px; margin-left: 20px\"\r\n  >\r\n \r\n\r\n  <el-form-item label=\"工号\" prop=\"sno\">\r\n          <el-input v-model=\"formData.sno\" readonly=\"true\"  ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"upwd\">\r\n          <el-input v-model=\"formData.upwd\" type=\"password\"  ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"formData.name\"  ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-select\r\n            v-model=\"formData.sex\"\r\n            placeholder=\"请选择\"\r\n            \r\n          >\r\n            <el-option label=\"男\" value=\"男\"> </el-option>\r\n             <el-option label=\"女\" value=\"女\"> </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model=\"formData.age\"  ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"tel\">\r\n          <el-input v-model=\"formData.tel\" ></el-input>\r\n        </el-form-item>\r\n       \r\n\r\n\r\n    <el-form-item>\r\n      <el-button type=\"primary\" :loading=\"btnLoading\" @click=\"save\"\r\n        >保存</el-button\r\n      >\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport request, { base } from \"../../../utils/http\";\r\n\r\nexport default {\r\n  name: \"UpdateUinfo\",\r\n\r\n  data() {\r\n   \r\n    var checkPhone = (rule, value, callback) => {\r\n      const phoneReg = /^1[34578]\\d{9}$/;\r\n      if (!value) {\r\n        return callback(new Error(\"联系电话不能为空\"));\r\n      }\r\n      setTimeout(() => {\r\n        // Number.isInteger是es6验证数字是否为整数的方法,实际输入的数字总是识别成字符串\r\n        // 所以在前面加了一个+实现隐式转换\r\n        if (!Number.isInteger(+value)) {\r\n          callback(new Error(\"请输入数字值\"));\r\n        } else {\r\n          if (phoneReg.test(value)) {\r\n            callback();\r\n          } else {\r\n            callback(new Error(\"联系电话格式不正确\"));\r\n          }\r\n        }\r\n      }, 100);\r\n    };\r\n    \r\n    return {\r\n      btnLoading: false, //保存按钮加载状态\r\n      formData: {},\r\n        hyztinfoList: \"\",\r\n      sqrxzList: \"\",\r\n      rules: {\r\n        sno: [\r\n          { required: true, message: \"请输入工号\", trigger: \"blur\" }\r\n        ],\r\n        upwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        age: [{ required: true, message: \"请输入年龄\", trigger: \"blur\" }],\r\n        tel: [{ required: true, message: \"请输入电话\", trigger: \"blur\" }],\r\n          \r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    var user = sessionStorage.getItem(\"currentUser\");\r\n    this.formData = JSON.parse(user);\r\n \r\n  },\r\n  methods: {\r\n    \r\n    save() {\r\n      this.$refs[\"formDataRef\"].validate((valid) => {\r\n          if (valid) {\r\n            let url = base + \"/userinfo/update?id=\" + this.formData.id;\r\n            this.btnLoading = true;\r\n            request.post(url, this.formData).then((res) => {\r\n              if (res.code == 200) {\r\n                this.btnLoading = false;\r\n                this.formVisible = false;\r\n                this.$message({\r\n                  message: \"修改成功，请重新登录\",\r\n                  type: \"success\",\r\n                  offset: 320,\r\n                });\r\n                 sessionStorage.removeItem(\"currentUser\");\r\n\t\t             sessionStorage.removeItem(\"utype\");\r\n                 window.location.href=\"/login\"\r\n         \r\n              } else {\r\n                this.$message({\r\n                  message: \"服务器错误\",\r\n                  type: \"error\",\r\n                  offset: 320,\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":""}]}